<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Serialized Bluetooth Low Energy: /home/kindt/workspace/HE2mT/projects/sble/include/sble_scheduler.h File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="sble_logo_small.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Serialized Bluetooth Low Energy
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">An easy-to-use Bluetooth Low Energy (BLE) toolbox</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">/home/kindt/workspace/HE2mT/projects/sble/include/sble_scheduler.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Scheduling for sble. Plattform-dependant!  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;inttypes.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="sble__platform__config_8h_source.html">sble_platform_config.h</a>&quot;</code><br/>
</div>
<p><a href="sble__scheduler_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="sble__scheduler_8h.html#a1b0c462515455b47cca1b0909575eecd">_sble_thread</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sble__scheduler_8h.html#a439a6f93b340726aa92ca22f4e2926bf">sble_thread</a></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sble__scheduler_8h.html#a1b0c462515455b47cca1b0909575eecd">_sble_thread</a> { <b>SBLE_THREAD_MAIN</b>, 
<b>SBLE_THREAD_DISPATCHER</b>
 }</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sble__scheduler_8h.html#acdff6f1df3205b883be66eb5f1ba6d6c">sble_scheduler_init</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sble__scheduler_8h.html#ac70397ec972c45af5154c0bb15b3e372">sble_callback_dispatcher</a> (void *threadarg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sble__scheduler_8h.html#a6f32734e712cadbf91dedffe7546bd3f">sble_scheduler_wait</a> (<a class="el" href="sble__scheduler_8h.html#a439a6f93b340726aa92ca22f4e2926bf">sble_thread</a> thread)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sble__scheduler_8h.html#a023815eeaef68154e02ad551c14fc65c">sble_scheduler_unlock_mutex</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sble__scheduler_8h.html#a4c80f87d3b8b43032ccff61235a764e9">sble_scheduler_lock_mutex</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sble__scheduler_8h.html#a631f92bc5fa1ff8b2c43177e49799a73">sble_scheduler_wakeup</a> (<a class="el" href="sble__scheduler_8h.html#a439a6f93b340726aa92ca22f4e2926bf">sble_thread</a> thread)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sble__scheduler_8h.html#ac0a647fff7f28f41f2937d4b4074261b">sble_scheduler_wait_for_event</a> (<a class="el" href="sble__scheduler_8h.html#a439a6f93b340726aa92ca22f4e2926bf">sble_thread</a> thread, uint32_t event_flag_mask)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sble__scheduler_8h.html#a26b646781e0becceb1165f1e2192fa30">sble_scheduler_wait_for_event_no_reset</a> (<a class="el" href="sble__scheduler_8h.html#a439a6f93b340726aa92ca22f4e2926bf">sble_thread</a> thread, uint32_t event_flag_mask)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sble__scheduler_8h.html#a9989d70d615477874d07894f8f7cf324">sble_scheduler_dispatcher_shutdown</a> (<a class="el" href="sble__scheduler_8h.html#a439a6f93b340726aa92ca22f4e2926bf">sble_thread</a> thread)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sble__scheduler_8h.html#a7a0c3d173c8ee184be75a7986db80c8a">sble_scheduler_dispatcher_start</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sble__scheduler_8h.html#a4571e01c137b484bcdcf38b3744d350f">sble_scheduler_autoclear_prevent</a> (uint32_t events)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sble__scheduler_8h.html#a2005286c6911a84c828ef388d9d458d6">sble_scheduler_autoclear_do</a> (uint32_t events)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sble__scheduler_8h.html#af9ad414c8048736cbdef8033ed2b259c">sble_scheduler_events_clear</a> (uint32_t events)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sble__scheduler_8h.html#a0f67060b4eaef3439ec8b20c3fc1bdf4">sble_scheduler_events_set</a> (uint32_t events)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Scheduling for sble. Plattform-dependant! </p>
<h2><a class="anchor" id="Scheduling"></a>
in SBLE</h2>
<p>This files contains everything related to the scheduling. SBLE runs within two threads: </p>
<ul>
<li>The main thread which receives function calls from the programm using SBLE </li>
<li>The callback dispatcher thread which is woken up by the operating system every time data is received via the UART.</li>
</ul>
<h3><a class="anchor" id="Asynchronous"></a>
events</h3>
<p>The BLE radio can signal two message types: </p>
<ul>
<li>Responses to a command issued by the main thread before </li>
<li>Asynchronous events (example: Value received via radio link)</li>
</ul>
<p>Everytime something from the BLE radio is received, the callback dispatcher thread is woken up by the operating system. Depending on the preceeding calls within the main thread, the callback dispatcher perfoms different actions. In any case, a callback corresponding to the event or response that occured is called. Within the callback, the global state variable dstate is modified usually. In some cases, received vallues are pushed onto one of the reception stack.</p>
<h3><a class="anchor" id="Function"></a>
calls</h3>
<p>Most SBLE-functionallity is handled by sble-function-calls from the application using SBLE. These calls invoke the SBLE-Scheduler with different possibilities <b>Non-Blocking call:</b><br/>
 </p>
<ul>
<li>The main thread sends an api command and returns to caller immediately. </li>
<li>The callback dispatcher thread is not invoked</li>
</ul>
<p><b>Blocking call:</b><br/>
 </p>
<ul>
<li>The main thread sends an api command and goes asleep </li>
<li>The dispatcher thread wakes up the main thread if the response for this call has been signaled </li>
<li>The dispatcher thread goes asleep </li>
<li>the main thread wakes up the dispatcher thread if it has received the response to the command </li>
<li>the calling functions returns and the dispatcher thread sleeps until the next data is received from the radio</li>
</ul>
<p><b>Event waiting functions</b><br/>
 Some functions use void <a class="el" href="sble__scheduler_8h.html#ac0a647fff7f28f41f2937d4b4074261b">sble_scheduler_wait_for_event()</a>. This function waits until at least one event within specified set of events had occured. It works like this: </p>
<ul>
<li>First, a blocking call is issued (see above)  callback dispatcher thread sleeps until any event occures  callback dispatcher thread signals the event to the main thread and wakes it up and goes asleep after that  main thread checks if the event it has ben waiting for occured. If yes, it wakes up the dispatcher thread that will go asleep again to be woken up by the operating system and returns to the caller. If not, it wakes up the dispatcher thread that will wait for the oerating system again, but will set the main-thread asleep again until the next event occurs.</li>
</ul>
<dl class="date"><dt><b>Date:</b></dt><dd>06.07.2012 </dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>: Philipp Kindt </dd></dl>
</div><hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a439a6f93b340726aa92ca22f4e2926bf"></a><!-- doxytag: member="sble_scheduler.h::sble_thread" ref="a439a6f93b340726aa92ca22f4e2926bf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="sble__scheduler_8h.html#a1b0c462515455b47cca1b0909575eecd">_sble_thread</a>  <a class="el" href="sble__scheduler_8h.html#a439a6f93b340726aa92ca22f4e2926bf">sble_thread</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Enum that specifies one of two threads: </p>
<ul>
<li>SBLE_THREAD_MAIN the main thread </li>
<li>SBLE_THREAD_DISPATCHER the callback dispatcher thread </li>
</ul>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a1b0c462515455b47cca1b0909575eecd"></a><!-- doxytag: member="sble_scheduler.h::_sble_thread" ref="a1b0c462515455b47cca1b0909575eecd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="sble__scheduler_8h.html#a1b0c462515455b47cca1b0909575eecd">_sble_thread</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Enum that specifies one of two threads: </p>
<ul>
<li>SBLE_THREAD_MAIN the main thread </li>
<li>SBLE_THREAD_DISPATCHER the callback dispatcher thread </li>
</ul>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ac70397ec972c45af5154c0bb15b3e372"></a><!-- doxytag: member="sble_scheduler.h::sble_callback_dispatcher" ref="ac70397ec972c45af5154c0bb15b3e372" args="(void *threadarg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* <a class="el" href="sble__scheduler_8h.html#ac70397ec972c45af5154c0bb15b3e372">sble_callback_dispatcher</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>threadarg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The callback dispatcher thread function. It contains an endless loop and is to be started as its own thread by <a class="el" href="sble__scheduler_8h.html#acdff6f1df3205b883be66eb5f1ba6d6c">sble_scheduler_init()</a>. It will call the callbacks and, to a huge extend, handle the sleep-and-wakeup-procedures for the main thread in collaboration with other functions </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">threadarg</td><td>Argument for the thread - unused. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2005286c6911a84c828ef388d9d458d6"></a><!-- doxytag: member="sble_scheduler.h::sble_scheduler_autoclear_do" ref="a2005286c6911a84c828ef388d9d458d6" args="(uint32_t events)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="sble__scheduler_8h.html#a2005286c6911a84c828ef388d9d458d6">sble_scheduler_autoclear_do</a> </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>events</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add the events specified by a given bitfield to the event autoclear list. All events in this list will be acknowledged autmatically, so the dispatcher thread continues automatically if one of these events occur. If an event occurs that is not on this list, the dispatcher thread will sleep until woken up by another thread.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">events</td><td>Bitfield specifying the events to remove from the aec list. It can conatin any combination of the SBLE_STATE_*-macros defined in <a class="el" href="sble__state_8h.html" title="The state of SBLE.">sble_state.h</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4571e01c137b484bcdcf38b3744d350f"></a><!-- doxytag: member="sble_scheduler.h::sble_scheduler_autoclear_prevent" ref="a4571e01c137b484bcdcf38b3744d350f" args="(uint32_t events)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="sble__scheduler_8h.html#a4571e01c137b484bcdcf38b3744d350f">sble_scheduler_autoclear_prevent</a> </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>events</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Removes the events specified by a given bitfield fromthe event autoclear list. All events in this list will be acknowledged autmatically, so the dispatcher thread continues automatically if one of these events occur. If an event occurs that is not on this list, the dispatcher thread will sleep until woken up by another thread. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">events</td><td>Bitfield specifying the events to remove from the aec list. It can conatin any combination of the SBLE_STATE_*-macros defined in <a class="el" href="sble__state_8h.html" title="The state of SBLE.">sble_state.h</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9989d70d615477874d07894f8f7cf324"></a><!-- doxytag: member="sble_scheduler.h::sble_scheduler_dispatcher_shutdown" ref="a9989d70d615477874d07894f8f7cf324" args="(sble_thread thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="sble__scheduler_8h.html#a9989d70d615477874d07894f8f7cf324">sble_scheduler_dispatcher_shutdown</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sble__scheduler_8h.html#a439a6f93b340726aa92ca22f4e2926bf">sble_thread</a>&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Shuts down the event dispatcher thread. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">thread</td><td>Even though it is possible to shut down the main thread, too, this param should allways be SBLE_THREAD_DISPATCHER. Usually called by <a class="el" href="sble__init_8h.html#a23879e4b6b668dce6c0350bc51b66c42">sble_shutdown()</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7a0c3d173c8ee184be75a7986db80c8a"></a><!-- doxytag: member="sble_scheduler.h::sble_scheduler_dispatcher_start" ref="a7a0c3d173c8ee184be75a7986db80c8a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="sble__scheduler_8h.html#a7a0c3d173c8ee184be75a7986db80c8a">sble_scheduler_dispatcher_start</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Start the dispatcher thead. Usually called by <a class="el" href="sble__scheduler_8h.html#acdff6f1df3205b883be66eb5f1ba6d6c">sble_scheduler_init()</a> and, thus, <a class="el" href="sble__init_8h.html#aaf6142e4efa783cdf93c4d7d2c35335f">sble_init()</a>; </p>

</div>
</div>
<a class="anchor" id="af9ad414c8048736cbdef8033ed2b259c"></a><!-- doxytag: member="sble_scheduler.h::sble_scheduler_events_clear" ref="af9ad414c8048736cbdef8033ed2b259c" args="(uint32_t events)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="sble__scheduler_8h.html#af9ad414c8048736cbdef8033ed2b259c">sble_scheduler_events_clear</a> </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>events</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>After an event has occured, for most events, a flag is set in the global state's flags (dstate.flags) that indicates the event has occured. This function clears the events that might have occured that are specified by a bitmask </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">events</td><td>bitmask specifiing the events to be cleared </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0f67060b4eaef3439ec8b20c3fc1bdf4"></a><!-- doxytag: member="sble_scheduler.h::sble_scheduler_events_set" ref="a0f67060b4eaef3439ec8b20c3fc1bdf4" args="(uint32_t events)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="sble__scheduler_8h.html#a0f67060b4eaef3439ec8b20c3fc1bdf4">sble_scheduler_events_set</a> </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>events</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>After an event has occured, for most events, a flag is set in the global state's flags (dstate.flags) that indicates the event has occured. This function makrks some events specified by a bitmask as "occured" </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">events</td><td>bitmask specifiing the events to be set in the global state's (dstate.flags) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acdff6f1df3205b883be66eb5f1ba6d6c"></a><!-- doxytag: member="sble_scheduler.h::sble_scheduler_init" ref="acdff6f1df3205b883be66eb5f1ba6d6c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="sble__scheduler_8h.html#acdff6f1df3205b883be66eb5f1ba6d6c">sble_scheduler_init</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initialize the scheduler and start the dispatcher thread </p>

</div>
</div>
<a class="anchor" id="a4c80f87d3b8b43032ccff61235a764e9"></a><!-- doxytag: member="sble_scheduler.h::sble_scheduler_lock_mutex" ref="a4c80f87d3b8b43032ccff61235a764e9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="sble__scheduler_8h.html#a4c80f87d3b8b43032ccff61235a764e9">sble_scheduler_lock_mutex</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Lock a synchronisation mutex to access global shared data. </p>

</div>
</div>
<a class="anchor" id="a023815eeaef68154e02ad551c14fc65c"></a><!-- doxytag: member="sble_scheduler.h::sble_scheduler_unlock_mutex" ref="a023815eeaef68154e02ad551c14fc65c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="sble__scheduler_8h.html#a023815eeaef68154e02ad551c14fc65c">sble_scheduler_unlock_mutex</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Unlock a synchronisation mutex to access global shared data. </p>

</div>
</div>
<a class="anchor" id="a6f32734e712cadbf91dedffe7546bd3f"></a><!-- doxytag: member="sble_scheduler.h::sble_scheduler_wait" ref="a6f32734e712cadbf91dedffe7546bd3f" args="(sble_thread thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="sble__scheduler_8h.html#a6f32734e712cadbf91dedffe7546bd3f">sble_scheduler_wait</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sble__scheduler_8h.html#a439a6f93b340726aa92ca22f4e2926bf">sble_thread</a>&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Make a thread sleep. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">thread</td><td>The thread-identifier qualifying the thread that shall go asleep.. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac0a647fff7f28f41f2937d4b4074261b"></a><!-- doxytag: member="sble_scheduler.h::sble_scheduler_wait_for_event" ref="ac0a647fff7f28f41f2937d4b4074261b" args="(sble_thread thread, uint32_t event_flag_mask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="sble__scheduler_8h.html#ac0a647fff7f28f41f2937d4b4074261b">sble_scheduler_wait_for_event</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sble__scheduler_8h.html#a439a6f93b340726aa92ca22f4e2926bf">sble_thread</a>&#160;</td>
          <td class="paramname"><em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>event_flag_mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Wait for one event out of a list of given events to occur. Until this occured, set the thread of the calling function asleep.<br/>
 Procedure:<br/>
 </p>
<ul>
<li>The function calling this function must first remove all events of flag_mask from the event autoclear list in the global state (dstate.evt_clear_list) by using sble_scheduler_autoclear_prevent </li>
<li>Usually, the calling function issues a BGAPI-command </li>
<li>After that, <a class="el" href="sble__scheduler_8h.html#a631f92bc5fa1ff8b2c43177e49799a73">sble_scheduler_wakeup()</a> is called. It waits until one of the events specified occures </li>
<li><a class="el" href="sble__scheduler_8h.html#a631f92bc5fa1ff8b2c43177e49799a73">sble_scheduler_wakeup()</a> restores those events to the event autoclear list. <dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">thread</td><td>The thread identifier of the calling thread </td></tr>
    <tr><td class="paramname">event_flag_mask</td><td>A bitfiled specifying the events to wait for. This can be any combination of the SBLE_STATE_*-macros defined in <a class="el" href="sble__state_8h.html" title="The state of SBLE.">sble_state.h</a> </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a26b646781e0becceb1165f1e2192fa30"></a><!-- doxytag: member="sble_scheduler.h::sble_scheduler_wait_for_event_no_reset" ref="a26b646781e0becceb1165f1e2192fa30" args="(sble_thread thread, uint32_t event_flag_mask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="sble__scheduler_8h.html#a26b646781e0becceb1165f1e2192fa30">sble_scheduler_wait_for_event_no_reset</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sble__scheduler_8h.html#a439a6f93b340726aa92ca22f4e2926bf">sble_thread</a>&#160;</td>
          <td class="paramname"><em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>event_flag_mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Wait for one event out of a list of given events to occur. Until this occured, set the thread of the calling function asleep.<br/>
 Same as <a class="el" href="sble__scheduler_8h.html#ac0a647fff7f28f41f2937d4b4074261b">sble_scheduler_wait_for_event()</a>, but does not restore the event autoclear list automatically. Procedure:<br/>
 </p>
<ul>
<li>The function calling this function must first remove all events of flag_mask from the event autoclear list in the global state (dstate.evt_clear_list) by using sble_scheduler_autoclear_prevent </li>
<li>Usually, the calling function issues a BGAPI-command </li>
<li>After that, <a class="el" href="sble__scheduler_8h.html#a631f92bc5fa1ff8b2c43177e49799a73">sble_scheduler_wakeup()</a> is called. It waits until one of the events specified occures <dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">thread</td><td>The thread identifier of the calling thread </td></tr>
    <tr><td class="paramname">event_flag_mask</td><td>A bitfiled specifying the events to wait for. This can be any combination of the SBLE_STATE_*-macros defined in <a class="el" href="sble__state_8h.html" title="The state of SBLE.">sble_state.h</a> </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a631f92bc5fa1ff8b2c43177e49799a73"></a><!-- doxytag: member="sble_scheduler.h::sble_scheduler_wakeup" ref="a631f92bc5fa1ff8b2c43177e49799a73" args="(sble_thread thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="sble__scheduler_8h.html#a631f92bc5fa1ff8b2c43177e49799a73">sble_scheduler_wakeup</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sble__scheduler_8h.html#a439a6f93b340726aa92ca22f4e2926bf">sble_thread</a>&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Wake up a sleeping thread. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">thread</td><td>The thread-identifier qualifying the calling thread. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 30 2012 14:24:44 for Serialized Bluetooth Low Energy by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
