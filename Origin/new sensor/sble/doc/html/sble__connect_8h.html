<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Serialized Bluetooth Low Energy: /home/kindt/workspace/HE2mT/projects/sble/include/sble_connect.h File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="sble_logo_small.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Serialized Bluetooth Low Energy
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">An easy-to-use Bluetooth Low Energy (BLE) toolbox</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">/home/kindt/workspace/HE2mT/projects/sble/include/sble_connect.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>connection handling  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="sble__bgapi__call_8h_source.html">sble_bgapi_call.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="sble__ll_8h_source.html">sble_ll.h</a>&quot;</code><br/>
<code>#include &lt;inttypes.h&gt;</code><br/>
</div>
<p><a href="sble__connect_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>sble_addr_type</b> { <b>SBLE_ADDRESS_PUBLIC</b>, 
<b>SBLE_ADDRESS_RANDOM</b>
 }</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sble__connect_8h.html#a3ed661df30b49675bca607dc5177d559">sble_connect_to_any</a> (uint16_t con_int_min, uint16_t con_int_max, uint16_t timeout, uint16_t latency)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sble__connect_8h.html#a8a7c0d1f5e31229ff661244c1f2084a2">sble_make_connectable_by_any</a> (uint16_t adv_int_min, uint16_t adv_int_max)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sble__connect_8h.html#aab654b5264581bd496efbacf185c1e9d">sble_connect_to</a> (<a class="el" href="struct__sble__array.html">sble_array</a> *addr, sble_addr_type type, uint16_t con_interval_min, uint16_t con_interval_max, uint16_t timeout, uint16_t slave_latency)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="sble__platform__config_8h.html#a9322e4688689faf88b3d9cb40775d809">sble_bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sble__connect_8h.html#ac599b71edda52031dea261bfb596d4c7">sble_disconnect</a> (uint8_t con)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>connection handling </p>
<p>This file handles connections to external BLE nodes.</p>
<h2><a class="anchor" id="connection"></a>
modes</h2>
<p>A device can act in one of two roles:<br/>
 <b>Advertiser:</b><br/>
 </p>
<ul>
<li>Sends atvertising packets on channels 37,38 and 39 </li>
<li>Advertising packets can received by a device that is in scanner mode </li>
<li>Advertising packets are sent repeatedly within an advertising interval <b>Scanner:</b><br/>
 </li>
<li>A Scanner listens for advertising packets </li>
<li>In case of a reception of an adv packet, a "scan request" packet is sent </li>
<li>The advertiser sents a scan response packet.</li>
</ul>
<p>(Source and more information: LPRF San Diego, Bluetooth Low Energy Deep Dive, <a href="http://e2e.ti.com/support/low_power_rf/m/videos__files/653593/download.aspx">http://e2e.ti.com/support/low_power_rf/m/videos__files/653593/download.aspx</a>)</p>
<p>To learn more about the exact timing, consult page 18 of: BLE Stack API reference v1.3, Bluegiga Technologies</p>
<div class="image">
<img src="advertiser_scanner.png" alt="advertiser_scanner.png"/>
<div class="caption">
avertiser and scanner</div></div>
 <dl class="date"><dt><b>Date:</b></dt><dd>06.07.2012 </dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>kindt </dd></dl>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="aab654b5264581bd496efbacf185c1e9d"></a><!-- doxytag: member="sble_connect.h::sble_connect_to" ref="aab654b5264581bd496efbacf185c1e9d" args="(sble_array *addr, sble_addr_type type, uint16_t con_interval_min, uint16_t con_interval_max, uint16_t timeout, uint16_t slave_latency)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="sble__connect_8h.html#aab654b5264581bd496efbacf185c1e9d">sble_connect_to</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__sble__array.html">sble_array</a> *&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sble_addr_type&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>con_interval_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>con_interval_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>slave_latency</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Connect to the BLE-Node having a given BLE address. The function returns, if a connection has been established.<br/>
 (Source for params: BLE Stack API reference v1.3, Bluegiga) </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>Address to connect to </td></tr>
    <tr><td class="paramname">con_int_min</td><td>Minimum connection interval (unit: 1.25ms), Range 7.5ms to 4000ms </td></tr>
    <tr><td class="paramname">con_int_max</td><td>Maximum connection Interval (unit: 1.25ms), Range 7.5ms to 4000ms </td></tr>
    <tr><td class="paramname">timeout</td><td>Supervision timeout (unit: 10ms) - Range 100ms to 32 seconds, must be bigger than connection interval. If no packets are received either by the master or the slave within this time interval, the connection is terminated. </td></tr>
    <tr><td class="paramname">latency</td><td>Slave latency - the number of connection intervals the slave need not response. Higher latency will save energy. Range: 0-500 </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Connection number. </dd></dl>

</div>
</div>
<a class="anchor" id="a3ed661df30b49675bca607dc5177d559"></a><!-- doxytag: member="sble_connect.h::sble_connect_to_any" ref="a3ed661df30b49675bca607dc5177d559" args="(uint16_t con_int_min, uint16_t con_int_max, uint16_t timeout, uint16_t latency)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="sble__connect_8h.html#a3ed661df30b49675bca607dc5177d559">sble_connect_to_any</a> </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>con_int_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>con_int_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>latency</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Connect to any BLE-Node in range by starting scanning and connecting to the first scan response that has been received. The function returns, if a connection has been established. (Source for params: BLE Stack API reference v1.3, Bluegiga) </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">con_int_min</td><td>Minimum connection interval (unit: 1.25ms), Range 7.5ms to 4000ms </td></tr>
    <tr><td class="paramname">con_int_max</td><td>Maximum connection Interval (unit: 1.25ms), Range 7.5ms to 4000ms </td></tr>
    <tr><td class="paramname">timeout</td><td>Supervision timeout (unit: 10ms) - Range 100ms to 32 seconds, must be bigger than connection interval. If no packets are received either by the master or the slave within this time interval, the connection is terminated. </td></tr>
    <tr><td class="paramname">latency</td><td>Slave latency - the number of connection intervals the slave need not response. Higher latency will save energy. Range: 0-500 </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Connection number. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sble_example_check_for_attribute_8c-example.html#a2">sble_example_check_for_attribute.c</a>, <a class="el" href="sble_example_client_8c-example.html#a4">sble_example_client.c</a>, and <a class="el" href="sble_example_minimal_client_8c-example.html#a4">sble_example_minimal_client.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ac599b71edda52031dea261bfb596d4c7"></a><!-- doxytag: member="sble_connect.h::sble_disconnect" ref="ac599b71edda52031dea261bfb596d4c7" args="(uint8_t con)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sble__platform__config_8h.html#a9322e4688689faf88b3d9cb40775d809">sble_bool</a> <a class="el" href="sble__connect_8h.html#ac599b71edda52031dea261bfb596d4c7">sble_disconnect</a> </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>con</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Close a connection. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">con</td><td>Connection number to terminate </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>SBLE_TRUE on success, SBLE_FALSE otherwise. Not all errors are deteceted, yet. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sble_example_check_for_attribute_8c-example.html#a10">sble_example_check_for_attribute.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a8a7c0d1f5e31229ff661244c1f2084a2"></a><!-- doxytag: member="sble_connect.h::sble_make_connectable_by_any" ref="a8a7c0d1f5e31229ff661244c1f2084a2" args="(uint16_t adv_int_min, uint16_t adv_int_max)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="sble__connect_8h.html#a8a7c0d1f5e31229ff661244c1f2084a2">sble_make_connectable_by_any</a> </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>adv_int_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>adv_int_max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Make the device connectable by any device. After calling this function, it returns immediately but the BLE-Radio will start advertising. To wait for a connection to be established, use <a class="el" href="sble__scheduler_8h.html#ac0a647fff7f28f41f2937d4b4074261b">sble_scheduler_wait_for_event()</a> and trigger for SBLE_STATE_CONNECTION_EVENT.<br/>
 (Source for params: BLE Stack API reference v1.3, Bluegiga) </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">adv_int_min</td><td>Minimum advertisment interval (unit: 625us) </td></tr>
    <tr><td class="paramname">adv_int_max</td><td>Maximum advertisment interval (unit: 625us) </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sble_example_gattserver_8c-example.html#a1">sble_example_gattserver.c</a>, and <a class="el" href="sble_example_minimal_gattserver_8c-example.html#a1">sble_example_minimal_gattserver.c</a>.</dd>
</dl>
</div>
</div>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 30 2012 14:24:44 for Serialized Bluetooth Low Energy by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
